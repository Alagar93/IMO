<mvc:View controllerName="com.sap.incture.IMO_PM.controller.createNotif" xmlns:mvc="sap.ui.core.mvc"
	xmlns:html="http://www.w3.org/1999/xhtml" displayBlock="true" xmlns="sap.m" xmlns:fb="sap.ui.comp.filterbar" xmlns:core="sap.ui.core"
	xmlns:l="sap.ui.layout" xmlns:table="sap.ui.table" xmlns:tnt="sap.tnt">
	<Page showHeader="true" class="sapUiSizeCompact sapMPageBackground" floatingFooter="false" enableScrolling="false">
		<tnt:ToolHeader class="headerBG headerShadow">
			<Label design="Bold" text="{i18n>tile_crNotif}" wrapping="true" class="sapUiSmallMarginBegin textColr"/>
			<ToolbarSpacer/>
			<core:Icon src="sap-icon://grid" tooltip="Open Attachments" press="onPressAttachmentsCreateNotif" color="#142e5e"
				class="attachmentsIconSize"/>
		</tnt:ToolHeader>
		<content>
			<Toolbar class="sapUiTinyMarginTop tableHeaderBG tableHeaderBg" height="3rem">
				<Button class="sapUiSmallMarginBegin" text="{i18n>CREATE_NOTIFICATION}" type="Emphasized" press="checkMandatoryFields"
					icon="sap-icon://document" iconFirst="true">
					<customData>
						<core:CustomData key="dateType" value="CREATE"/>
					</customData>
				</Button>
				<Button text="{i18n>create_Wo}" press="onCreateWODialogOpen" class="tableHeadertansparentBtn" icon="sap-icon://document" iconFirst="true"/>
				<Button text="Clear" press="onClearCreateNotif" class="btnTransparent createNotifClearBtn" icon="sap-icon://decline" iconFirst="true"/>
				<!--<ToolbarSpacer/>-->
			</Toolbar>
			<VBox height="{mLookupModel>/notificationPanelHeight}" class="iopRightPanelContainer"
				width="{= ${mLookupModel>/showTaskManagementPanelCreateNotif} === true ? '20rem' : '0' }">
				<core:Fragment fragmentName="com.sap.incture.IMO_PM.fragment.RightAttachmentPanelCreateNotif" type="XML"
					id="idRightAttachmentPanelCreateNotif"></core:Fragment>
			</VBox>
			<ScrollContainer height="calc(100vh - 9rem)" vertical="true">
				<l:Grid defaultSpan="XL3 L3 M6 S12" class="sapUiSmallMarginBeginEnd sapUiSmallMarginBottom sapUiTinyMarginTop gridBG" vSpacing="0">
					<OverflowToolbar class="createNotifOverflowBorder">
						<Label design="Bold" text="{i18n>SUBJECT}" wrapping="true"/>
						<layoutData>
							<l:GridData span="XL12 L12 M12 S12"></l:GridData>
						</layoutData>
					</OverflowToolbar>
					<VBox class="gridPadding">
						<Label text="{i18n>NOTIF_TYPE}" required="true"/>
						<ComboBox showSecondaryValues="true" items="{path:'mLookupModel>/aNotificationTypeSet',sorter:{ path: 'text' }}"
							selectedKey="{oNotificationDataModel>/NotifType}" class="inputRadius" enabled="true" width="90%">
							<core:ListItem key="{mLookupModel>Qmart}" additionalText="{mLookupModel>qmartx}" text="{mLookupModel>Qmart}"/>
						</ComboBox>
					</VBox>
					<VBox class="gridPadding">
						<Label text="{i18n>reference_Notif}"/>
						<Input class="inputRadius" value="{mLookupModel>/sRefnotif}" width="90%" valueLiveUpdate="true" showValueHelp="true" showSuggestion="true"
							enabled="true" valueHelpRequest="refNotifValueHelp" valueHelpOnly="false"></Input>
					</VBox>
					<VBox class="gridPadding">
						<Label text="{i18n>DESCRIPTION}" required="true"></Label>
						<Input class="inputRadius" value="{oNotificationDataModel>/ShortText}" width="90%" tooltip="{oNotificationDataModel>/ShortText}"
							maxLength="40"></Input>
					</VBox>
					<VBox class="gridPadding">
						<Label text="{i18n>LONG_TEXT}"/>
						<TextArea class="inputRadius" width="90%" value="{oNotificationDataModel>/Longtext}" tooltip="{oNotificationDataModel>/Longtext}" rows="4"
							maxLength="2000"/>
					</VBox>
					<OverflowToolbar class="createNotifOverflowBorder">
						<Label text="{i18n>REFERENCE_OBJECT}" design="Bold" class="sapUiTinyMarginBottom"></Label>
						<layoutData>
							<l:GridData span="XL12 L12 M12 S12"></l:GridData>
						</layoutData>
					</OverflowToolbar>
					<VBox class="gridPadding">
						<Label required="true" text="{i18n>FUNC_LOCATION}"></Label>
						<Input width="90%" editable="true" showValueHelp="true" value="{oNotificationDataModel>/FunctLoc}" valueHelpOnly="false"
							valueHelpRequest="fnLocValueHelp" class="inputRadius"></Input>
					</VBox>
					<VBox class="gridPadding">
						<Label text="{i18n>EQUIPMENT}" required="false"></Label>
						<Input class="inputRadius" width="90%" showValueHelp="true" value="{oNotificationDataModel>/Equipment}"
							valueHelpRequest="openEquipmentListValueHelp" tooltip="{oNotificationDataModel>/Equipment}" maxLength="18"></Input>
					</VBox>
					<VBox class="gridPadding">
						<Label text="{i18n>SUB_ASSEMBLY}"></Label>
						<ComboBox showSecondaryValues="true" items="{mLookupModel>/aEquipAssemblyList}" selectedKey="{oNotificationDataModel>/Assembly}"
							class="inputRadius" tooltip="{oNotificationDataModel>/Assembly}" width="90%">
							<core:ListItem key="{mLookupModel>Idnrk}" text="{mLookupModel>Idnrk} - {mLookupModel>MAKTX}"/>
						</ComboBox>
					</VBox>
					<VBox class="gridPadding">
						<Label text="{i18n>assigned_To}"></Label>
						<ComboBox showSecondaryValues="true" class="inputRadius" width="90%" selectedKey="{mLookupModel>/assignedToHardCode}">
							<core:ListItem key="John Smith" text="John Smith"/>
							<core:ListItem key="Andrew Goal" text="Andrew Goal"/>
						</ComboBox>
					</VBox>
					<OverflowToolbar class="createNotifOverflowBorder">
						<Label text="{i18n>RESPONSIBILITIES}" design="Bold" class="sapUiTinyMarginBottom"></Label>
						<layoutData>
							<l:GridData span="XL12 L12 M12 S12"></l:GridData>
						</layoutData>
					</OverflowToolbar>
					<VBox class="gridPadding">
						<Label text="{i18n>notif_Priority}" required="true"></Label>
						<ComboBox items="{ path: 'mLookupModel>/aPrioritySet', sorter: { path: 'text' } }" selectedKey="{oNotificationDataModel>/Priority}"
							class="inputRadius" width="90%" change="onChangePriority">
							<core:Item key="{mLookupModel>PRIOK}" text="{mLookupModel>PRIOKX}"/>
						</ComboBox>
					</VBox>
					<VBox class="gridPadding">
						<Label text="{i18n>PLANNER_GRP}" required="true"></Label>
						<Select class="selectRadius" forceSelection="false" selectedKey="{oNotificationDataModel>/Plangroup}" width="90%"
							tooltip="{oNotificationDataModel>/Plangroup}" items="{mLookupModel>/aPlannerGroupSet}" showSecondaryValues="true" enabled="true">
							<core:ListItem key="{mLookupModel>VAGRP}" text="{mLookupModel>VAGRP} - {mLookupModel>TXT}"/>
						</Select>
					</VBox>
					<VBox class="gridPadding">
						<Label text="{i18n>notif_PlanningPlant}" required="true"></Label>
						<Select class="selectRadius" forceSelection="false" width="90%" selectedKey="{oNotificationDataModel>/PlanPlant}" showSecondaryValues="true"
							enabled="true">
							<core:ListItem key="4321" text="4321"/>
						</Select>
					</VBox>
					<VBox class="gridPadding">
						<Label text="{i18n>notif_mainWorkCtr}" required="true"></Label>
						<ComboBox showSecondaryValues="true" items="{path:'mLookupModel>/aWorkCenterSet',sorter:{ path: 'text' }}"
							selectedKey="{oNotificationDataModel>/WorkCenter}" class="inputRadius" enabled="true" width="90%">
							<core:ListItem key="{mLookupModel>WorkcenterId}" additionalText="{mLookupModel>WorkcenterDesc}" text="{mLookupModel>WorkcenterId}"/>
						</ComboBox>
					</VBox>
					<VBox class="gridPadding">
						<Label text="{i18n>notif_plant}" required="true"></Label>
						<Select class="selectRadius" forceSelection="false" width="90%" showSecondaryValues="true" enabled="true"
							selectedKey="{oNotificationDataModel>/PlanPlant}">
							<core:ListItem key="4321" text="4321"/>
						</Select>
					</VBox>
					<VBox class="gridPadding">
						<Label text="{i18n>REPORTED_BY}"></Label>
						<Input class="inputRadius" value="{oNotificationDataModel>/Reportedby}" showValueHelp="true" width="90%" valueHelpRequest="handleValueHelp"
							tooltip="{oNotificationDataModel>/Reportedby}"/>
					</VBox>
					<VBox class="gridPadding">
						<Label text="{i18n>REQ_START_DATE}"></Label>
						<DatePicker class="inputRadius" placeholder="dd-MM-yyyy" dateValue="{oNotificationDataModel>/ReqStartdate}" width="90%"
							displayFormat="dd-MM-yyyy" enabled="true" change="fnValidateDates">
							<customData>
								<core:CustomData key="dateType" value="ReqStartdate"/>
							</customData>
						</DatePicker>
					</VBox>
					<VBox class="gridPadding">
						<Label text="{i18n>REQ_END_DATE}"></Label>
						<DatePicker class="inputRadius" placeholder="dd-MM-yyyy" dateValue="{oNotificationDataModel>/ReqEnddate}" width="90%"
							displayFormat="dd-MM-yyyy" enabled="true" change="fnValidateDates">
							<customData>
								<core:CustomData key="dateType" value="ReqEnddate"/>
							</customData>
						</DatePicker>
					</VBox>
					<OverflowToolbar class="createNotifOverflowBorder"
						visible="{path:'oNotificationDataModel>/NotifType',formatter:'com.sap.incture.IMO_PM.formatter.formatter.fnToggleBreakdownVisibility'}">
						<Label text="Breakdown" design="Bold" class="sapUiTinyMarginBottom"></Label>
						<layoutData>
							<l:GridData span="XL12 L12 M12 S12"></l:GridData>
						</layoutData>
					</OverflowToolbar>
					<VBox class="gridPadding"
						visible="{path:'oNotificationDataModel>/NotifType',formatter:'com.sap.incture.IMO_PM.formatter.formatter.fnToggleBreakdownVisibility'}">
						<Label text="{i18n>BREAK_DOWN}"></Label>
						<Switch state="{path:'oNotificationDataModel>/Breakdown', formatter:'com.sap.incture.IMO_PM.formatter.formatter.formatBooleanBreakDown'}"
							customTextOn="{i18n>yes}" customTextOff="{i18n>no}" change="fnUpdateBreakDownStatus" id="idBreakDownSwitch" enabled="true"/>
					</VBox>
					<VBox class="gridPadding"
						visible="{path:'oNotificationDataModel>/NotifType',formatter:'com.sap.incture.IMO_PM.formatter.formatter.fnToggleBreakdownVisibility'}">
						<Label text="{i18n>BREAK_DOWN_HRS}"></Label>
						<Input class="inputRadius" value="{oNotificationDataModel>/BreakdownDur}" width="90%" tooltip="{oNotificationDataModel>/BreakdownDur}"
							maxLength="7" enabled="false"></Input>
					</VBox>
					<VBox class="gridPadding"
						visible="{path:'oNotificationDataModel>/Breakdown', formatter:'com.sap.incture.IMO_PM.formatter.formatter.formatBooleanBreakDown'}">
						<VBox
							visible="{path:'oNotificationDataModel>/NotifType',formatter:'com.sap.incture.IMO_PM.formatter.formatter.fnToggleBreakdownVisibility'}">
							<Label text="{i18n>MALFUN_START_DATE}"></Label>
							<DatePicker class="inputRadius" placeholder="dd-MM-yyyy" dateValue="{oNotificationDataModel>/Startdate}" width="90%"
								displayFormat="dd-MM-yyyy" change="fnValidateMalFunDates">
								<customData>
									<core:CustomData key="dateType" value="Startdate"/>
								</customData>
							</DatePicker>
						</VBox>
					</VBox>
					<VBox class="gridPadding"
						visible="{path:'oNotificationDataModel>/Breakdown', formatter:'com.sap.incture.IMO_PM.formatter.formatter.formatBooleanBreakDown'}">
						<VBox
							visible="{path:'oNotificationDataModel>/NotifType',formatter:'com.sap.incture.IMO_PM.formatter.formatter.fnToggleBreakdownVisibility'}">
							<Label text="{i18n>MALFUN_END_DATE}"></Label>
							<DatePicker class="inputRadius" placeholder="dd-MM-yyyy" dateValue="{oNotificationDataModel>/Enddate}" width="90%"
								displayFormat="dd-MM-yyyy" change="fnValidateMalFunDates">
								<customData>
									<core:CustomData key="dateType" value="Enddate"/>
								</customData>
							</DatePicker>
						</VBox>
					</VBox>
					<VBox class="gridPadding"
						visible="{path:'oNotificationDataModel>/Breakdown', formatter:'com.sap.incture.IMO_PM.formatter.formatter.formatBooleanBreakDown'}">
						<VBox
							visible="{path:'oNotificationDataModel>/NotifType',formatter:'com.sap.incture.IMO_PM.formatter.formatter.fnToggleBreakdownVisibility'}">
							<Label text="{i18n>MALFUN_START_TIME}"></Label>
							<TimePicker class="inputRadius" value="{oNotificationViewModel>/StartTime}" width="90%" valueFormat="HH:mm" displayFormat="HH:mm"
								placeholder="HH:mm" change="fnValidateMalFunDates">
								<customData>
									<core:CustomData key="dateType" value="StartTime"/>
								</customData>
							</TimePicker>
						</VBox>
					</VBox>
					<VBox class="gridPadding"
						visible="{path:'oNotificationDataModel>/Breakdown', formatter:'com.sap.incture.IMO_PM.formatter.formatter.formatBooleanBreakDown'}">
						<VBox
							visible="{path:'oNotificationDataModel>/NotifType',formatter:'com.sap.incture.IMO_PM.formatter.formatter.fnToggleBreakdownVisibility'}">
							<Label text="{i18n>MALFUN_END_TIME}"></Label>
							<TimePicker class="inputRadius" value="{oNotificationViewModel>/EndTime}" width="90%" valueFormat="HH:mm" displayFormat="HH:mm"
								placeholder="HH:mm" change="fnValidateMalFunDates">
								<customData>
									<core:CustomData key="dateType" value="EndTime"/>
								</customData>
							</TimePicker>
						</VBox>
					</VBox>
				</l:Grid>
			</ScrollContainer>
		</content>
		<!--<footer>
			<Toolbar class="footerBG">
				<ToolbarSpacer/>
				<Button text="{i18n>create_Wo}" type="Default" press="onCreateWODialogOpen" class="murphyCreateBtn"/>
				<Button text="{i18n>CREATE_NOTIFICATION}" type="Default" press="checkMandatoryFields" class="murphyCreateBtn">
					<customData>
						<core:CustomData key="dateType" value="CREATE"/>
					</customData>
				</Button>
			</Toolbar>
		</footer>-->
	</Page>
</mvc:View>